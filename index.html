<!DOCTYPE html>
<html>
<head>
  <title>Card Collection App</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ed9a0c;
      padding: 30px;
      text-align: center;
    }

    h2 {
      color: #333;
      margin-bottom: 20px;
    }

    input {
      padding: 10px;
      margin: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      width: 200px;
    }

    button {
      padding: 10px 15px;
      margin: 8px;
      background-color: #4caf50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }

    button:hover {
      background-color: #388e3c;
    }

    #output {
      margin-top: 20px;
      padding: 15px;
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 6px;
      white-space: pre-wrap;
      font-family: monospace;
      color: #444;
    }
  </style>
</head>
<body>
  <h2>Card Collection</h2>
  <input id="suit" placeholder="Suit (e.g. Hearts)" />
  <input id="value" placeholder="Value (e.g. Queen)" />
  <button onclick="addCard()">Add Card</button>
  <button onclick="getCards()">View All Cards</button>
  <input id="cardId" placeholder="Card ID to delete" />
  <button onclick="deleteCard()">Delete Card</button>
  <pre id="output">üÉè Ready</pre>

  <script>
    async function addCard() {
      const suit = document.getElementById('suit').value;
      const value = document.getElementById('value').value;
      const res = await fetch('/cards', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ suit, value })
      });
      const data = await res.json();
      updateOutput(`‚úÖ Added: ${data.suit} ${data.value} (ID ${data.id})`);
    }

    async function getCards() {
      const res = await fetch('/cards');
      const cards = await res.json();
      if (cards.length === 0) return updateOutput("üÉè No cards available.");
      let msg = "üìã All Cards:\n";
      cards.forEach(c => {
        msg += `‚Ä¢ ID ${c.id}: ${c.suit} ${c.value}\n`;
      });
      updateOutput(msg);
    }

    async function deleteCard() {
      const id = document.getElementById('cardId').value;
      const res = await fetch(`/cards/${id}`, { method: 'DELETE' });
      const data = await res.json();
      if (data.message) {
        updateOutput(`‚ùå ${data.message}`);
      } else {
        updateOutput(`üóëÔ∏è Deleted: ${data.suit} ${data.value} (ID ${data.id})`);
      }
    }

    function updateOutput(msg) {
      document.getElementById('output').innerText = msg;
    }
  </script>
</body>
</html>
